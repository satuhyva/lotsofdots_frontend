(this.webpackJsonplotsofdots_frontend=this.webpackJsonplotsofdots_frontend||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(37),i=n.n(r),l=n(2),c=n(6),s=n(85),u=n(126),m=n(129),d=n(5),E=n(43),f=d.a.create({container:{alignItems:"center"},appTitle:{fontSize:30,fontWeight:"bold",color:"#3A3A38",marginTop:40},info:{fontSize:15,fontStyle:"italic",color:"#3A3A38"},title:{fontSize:20,color:"#3A3A38",marginTop:10,fontWeight:"bold",marginBottom:5},buttonView:{backgroundColor:"#3A3A38",padding:8,borderRadius:7,marginTop:10,alignItems:"center"},buttonText:{fontSize:18,color:"#EEEFE3",fontWeight:"bold"},input:{borderColor:"#3A3A38",borderWidth:1,borderRadius:7,padding:10,marginTop:10,backgroundColor:"white",width:200,color:"#3A3A38"},adjustCountView:{flexDirection:"row",marginTop:10,marginBottom:10},countsText:{fontSize:30,color:"#3A3A38",marginTop:10,fontWeight:"bold",paddingLeft:15,paddingRight:15},buttonViewCounts:{padding:5,marginTop:10,alignItems:"center",borderRadius:7,borderWidth:1,borderColor:"#3A3A38"},buttonTextCounts:{fontSize:20,color:"#3A3A38",fontWeight:"bold"},radioButtonView:{marginTop:20,marginBottom:20},radioButtonLabelText:{fontSize:18,paddingLeft:10,color:"#3A3A38"},radioButtonWrap:{alignContent:"center",margin:2},buttonTextAdd:{fontSize:20,color:"#3A3A38",fontWeight:"bold"},optionText:{fontSize:17,color:"#3A3A38",fontWeight:"bold"},options:{marginTop:5},question:{fontSize:18,color:"#3A3A38",fontWeight:"bold",marginTop:20,marginBottom:5},infoSummary:{fontSize:15,fontStyle:"italic",color:"#3A3A38",marginTop:15,marginBottom:5},summary:{fontSize:18,color:"#3A3A38",fontWeight:"bold",marginBottom:5},buttonViewCancel:{padding:5,marginTop:10,alignItems:"center",borderRadius:7,borderWidth:1,borderColor:"#3A3A38",marginRight:10},buttonTextCancel:{fontSize:20,color:"#3A3A38",fontWeight:"bold"},line:{height:1,width:E.a.get("window").width/1.2,backgroundColor:"#3A3A38",marginTop:3,marginBottom:20}}),p=function(e){var t=e.handleQuestionWasSaved,n=Object(a.useState)(""),r=Object(l.a)(n,2),i=r[0],d=r[1];return o.a.createElement(c.a,{style:f.container},o.a.createElement(s.a,{style:f.title},"What is the voting about?"),o.a.createElement(s.a,{style:f.info},"What is it that you want to decide on?"),o.a.createElement(s.a,{style:f.info},"What needs to be prioritized?"),o.a.createElement(s.a,{style:f.info},"Write the question in the box below."),o.a.createElement(u.a,{style:f.input,multiline:!0,value:i,onChangeText:function(e){var t=g(e);d(t)}}),""!==i&&i.length>2?o.a.createElement(c.a,{style:f.container},o.a.createElement(m.a,{style:f.buttonView,onPress:function(){t(i)}},o.a.createElement(s.a,{style:f.buttonText},"NEXT"))):null)},g=function(e){for(var t=e,n=!0;n&&t.length>0;)if(" "===t.charAt(0))if(t.length>1){var a=t.substring(1);t=a}else t="",n=!1;else n=!1;return t},v=function(e){var t=e.changeCount,n=e.direction;return o.a.createElement(m.a,{style:f.buttonViewCounts,onPress:function(){return t(n)}},o.a.createElement(s.a,{style:f.buttonTextCounts},n))},y=function(e){var t=e.handleCountWasSaved,n=Object(a.useState)(1),r=Object(l.a)(n,2),i=r[0],u=r[1],d=function(e){"less"===e?i>1&&u(i-1):i<5&&u(i+1)};return o.a.createElement(c.a,{style:f.container},o.a.createElement(s.a,{style:f.title},"How many votes can one give?"),o.a.createElement(s.a,{style:f.info},"Each person has a minimum of one vote."),o.a.createElement(s.a,{style:f.info},"But if you want, they can have more than one vote."),o.a.createElement(s.a,{style:f.info},"Maximum is five votes."),o.a.createElement(s.a,{style:f.info},"Adjust the vote count to your liking."),o.a.createElement(c.a,{style:f.adjustCountView},o.a.createElement(v,{changeCount:d,direction:"less"}),o.a.createElement(s.a,{style:f.countsText},i),o.a.createElement(v,{changeCount:d,direction:"more"})),o.a.createElement(c.a,{style:f.container},o.a.createElement(m.a,{style:f.buttonView,onPress:function(){t(i)}},o.a.createElement(s.a,{style:f.buttonText},"NEXT"))))},h=n(35),b=function(e){var t=e.handleOptionsWereSaved,n=Object(a.useState)(""),r=Object(l.a)(n,2),i=r[0],d=r[1],E=Object(a.useState)([]),p=Object(l.a)(E,2),g=p[0],v=p[1];return o.a.createElement(c.a,{style:f.container},o.a.createElement(h.a,null,o.a.createElement(s.a,{style:f.title},"Answering options"),o.a.createElement(s.a,{style:f.info},"The number of answering options"),o.a.createElement(s.a,{style:f.info},"must be between 2 and 10."),o.a.createElement(s.a,{style:f.info},"Add new options using the box below."),o.a.createElement(c.a,{style:f.options},g.map((function(e){return o.a.createElement(s.a,{style:f.optionText,key:e}," \u29be ",e)}))),o.a.createElement(c.a,{style:f.numberOfVotesView},o.a.createElement(u.a,{style:f.input,multiline:!0,value:i,onChangeText:function(e){var t=T(e);d(t)}}),""===i||g.includes(i)?null:o.a.createElement(c.a,{style:f.container},o.a.createElement(m.a,{onPress:function(){var e=g.concat(i);d(""),v(e)}},o.a.createElement(s.a,{style:f.buttonTextAdd},"ADD")))),g.length>1?o.a.createElement(c.a,{style:f.container},o.a.createElement(m.a,{style:f.buttonView,onPress:function(){t(g)}},o.a.createElement(s.a,{style:f.buttonText},"NEXT"))):null))},T=function(e){for(var t=e,n=!0;n&&t.length>0;)if(" "===t.charAt(0))if(t.length>1){var a=t.substring(1);t=a}else t="",n=!1;else n=!1;return t},w=n(128),O=n(127),S=function(e){var t=e.handleChange,n=e.options,r=Object(a.useState)(""),i=Object(l.a)(r,2),s=i[0],u=i[1],m=Object(a.useState)(n.map((function(e){return o.a.createRef()}))),d=Object(l.a)(m,1)[0],E=Object(a.useState)(n),f=Object(l.a)(E,1)[0],p=function(e){d.forEach((function(t){t.current.animateButton(e)})),setTimeout((function(){u(e),t(e)}),300)};return o.a.createElement(c.a,{style:{marginTop:20}},f.map((function(e,t){return o.a.createElement(A,{key:t,ref:d[t],value:e,valueSelected:s,selectedNew:p})})))},A=o.a.forwardRef((function(e,t){var n=Object(a.useState)(new w.a.Value(0)),r=Object(l.a)(n,1)[0],i={height:r,width:r};Object(a.useImperativeHandle)(t,(function(){return{animateButton:s}}));var s=function(t){var n=e.value===t?20:0;w.a.parallel([w.a.timing(r,{toValue:n,easing:O.a.elastic(2),duration:300})]).start()};return o.a.createElement(m.a,{onPress:function(){return e.selectedNew(e.value)}},o.a.createElement(c.a,{style:C.rowView},o.a.createElement(c.a,{style:C.buttonOuterCircle},o.a.createElement(w.a.View,{style:[C.buttonInnerCircle,i]})),o.a.createElement(c.a,{style:C.radioButtonTextView},o.a.createElement(w.a.Text,{style:C.radioButtonText},e.value.toString()))))})),C=d.a.create({rowView:{flexDirection:"row",marginBottom:10,alignItems:"center"},radioButtonTextView:{marginLeft:10},radioButtonText:{fontSize:15,color:"#3A3A38"},buttonInnerCircle:{backgroundColor:"#3A3A38",height:20,width:20,borderRadius:20},buttonOuterCircle:{height:30,width:30,borderRadius:30,justifyContent:"center",alignItems:"center",borderColor:"#3A3A38",borderWidth:1}}),x=function(e){var t=e.handleDotColoringThemeWasSaved,n=Object(a.useState)(""),r=Object(l.a)(n,2),i=r[0],u=r[1];return o.a.createElement(c.a,{style:f.container},o.a.createElement(s.a,{style:f.title},"Dot colors and voter identities"),o.a.createElement(s.a,{style:f.info},"Should participants know how others voted?"),o.a.createElement(s.a,{style:f.info},"Should dots be colored according to voter?"),o.a.createElement(s.a,{style:f.info},"Should the names be revealed?"),o.a.createElement(S,{handleChange:function(e){u(e)},options:["all dots same color, no identities","different colors, no identities","different colors, show identities"]}),""!==i?o.a.createElement(c.a,{style:f.container},o.a.createElement(m.a,{style:f.buttonView,onPress:function(){t(i)}},o.a.createElement(s.a,{style:f.buttonText},"NEXT"))):null)},V=function(e){e.voteSameSeveralTimes;var t=e.handleVoteSameSeveralTimesWasSaved,n=Object(a.useState)(""),r=Object(l.a)(n,2),i=r[0],u=r[1];return o.a.createElement(c.a,{style:f.container},o.a.createElement(s.a,{style:f.title},"Voting same option several times?"),o.a.createElement(s.a,{style:f.info},"Are voters allowed to give one or "),o.a.createElement(s.a,{style:f.info},"several votes to any single option?"),o.a.createElement(S,{handleChange:function(e){u(e)},options:["one vote per option per person","several votes per option per person"]}),""!==i?o.a.createElement(c.a,{style:f.container},o.a.createElement(m.a,{style:f.buttonView,onPress:function(){t(i)}},o.a.createElement(s.a,{style:f.buttonText},"NEXT"))):null)},j=n(18),D=n.n(j),W=n(25),I=n(22),k=n.n(I),B=function(e){var t=e.newQuestion,n=e.countOfVotes,a=e.dotColoringTheme,r=e.options,i=e.voteSameSeveralTimes,l=e.cancelAll,u=e.updateSavedID;return o.a.createElement(c.a,{style:f.container},o.a.createElement(h.a,null,o.a.createElement(s.a,{style:f.infoSummary},"Question:"),o.a.createElement(s.a,{style:f.summary},t),o.a.createElement(s.a,{style:f.infoSummary},"Answering options:"),o.a.createElement(c.a,{style:f.options},r.map((function(e){return o.a.createElement(s.a,{style:f.optionText,key:e}," \u29be ",e)}))),o.a.createElement(s.a,{style:f.infoSummary},"Number of votes one can give:"),o.a.createElement(s.a,{style:f.summary},n),o.a.createElement(s.a,{style:f.infoSummary},"Votes by one person per option:"),o.a.createElement(s.a,{style:f.summary},i),o.a.createElement(s.a,{style:f.infoSummary},"Dot coloring theme:"),o.a.createElement(s.a,{style:f.summary},a),o.a.createElement(c.a,{style:f.adjustCountView},o.a.createElement(m.a,{style:f.buttonViewCancel,onPress:l},o.a.createElement(s.a,{style:f.buttonTextCancel},"CANCEL")),o.a.createElement(m.a,{style:f.buttonView,onPress:function(){N(t,n,a,r,i,u)}},o.a.createElement(s.a,{style:f.buttonText},"CREATE")))))},P=function(){var e=Object(W.a)(D.a.mark((function e(){var t,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0;case 1:if(!t){e.next=18;break}if(6!==(n=Math.floor(1e6*Math.random()).toString()).length){e.next=16;break}return e.prev=4,e.next=7,k.a.get("https://thawing-tor-45525.herokuapp.com/api/votings/".concat(n));case 7:if(0!==e.sent.data.length){e.next=11;break}return t=!1,e.abrupt("return",n);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("exception",e.t0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(W.a)(D.a.mark((function e(t,n,a,o,r,i){var l,c,s,u;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return l=e.sent,c="several votes per option per person"===r,e.prev=4,s={stringID:l,question:t,options:o,dotTheme:a,counts:n,severalSame:c},e.next=8,k.a.post("https://thawing-tor-45525.herokuapp.com/api/votings/",s);case 8:u=e.sent,console.log("response",u),200===u.status&&i(l),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.log("error in saving",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,n,a,o,r,i){return e.apply(this,arguments)}}(),R=function(e){var t=e.savedID,n=e.returnToWelcomePage;return o.a.createElement(c.a,{style:f.container},o.a.createElement(s.a,{style:f.title},"EVENT SUCCESFULLY CREATED"),o.a.createElement(s.a,{style:f.info},"Event ID for the newly created voting event:"),o.a.createElement(s.a,{style:f.title},t),o.a.createElement(s.a,{style:f.info},"Give this ID to those people"),o.a.createElement(s.a,{style:f.info},"whom you wish to participate in voting."),o.a.createElement(c.a,{style:f.container},o.a.createElement(m.a,{style:f.buttonView,onPress:function(){return n()}},o.a.createElement(s.a,{style:f.buttonText},"OK"))))},z=function(e){var t=e.newQuestion,n=e.countOfVotes,r=e.dotColoringTheme,i=e.voteSameSeveralTimes,s=e.options,u=e.cancelAll,m=e.returnToWelcomePage,d=Object(a.useState)("none"),E=Object(l.a)(d,2),f=E[0],p=E[1];return o.a.createElement(c.a,null,"none"===f?o.a.createElement(B,{newQuestion:t,countOfVotes:n,dotColoringTheme:r,options:s,voteSameSeveralTimes:i,cancelAll:u,updateSavedID:function(e){p(e)}}):o.a.createElement(R,{savedID:f,returnToWelcomePage:m}))},L=function(e){var t=e.returnToWelcomePage,n=Object(a.useState)(""),r=Object(l.a)(n,2),i=r[0],u=r[1],m=Object(a.useState)(!1),d=Object(l.a)(m,2),E=d[0],g=d[1],v=Object(a.useState)(1),h=Object(l.a)(v,2),T=h[0],w=h[1],O=Object(a.useState)(!1),S=Object(l.a)(O,2),A=S[0],C=S[1],j=Object(a.useState)(""),D=Object(l.a)(j,2),W=D[0],I=D[1],k=Object(a.useState)(!1),B=Object(l.a)(k,2),P=B[0],N=B[1],R=Object(a.useState)(""),L=Object(l.a)(R,2),F=L[0],U=L[1],G=Object(a.useState)(!1),M=Object(l.a)(G,2),Q=M[0],q=M[1],X=Object(a.useState)([]),Y=Object(l.a)(X,2),H=Y[0],J=Y[1],_=Object(a.useState)(!1),K=Object(l.a)(_,2),Z=K[0],$=K[1];return o.a.createElement(c.a,{style:f.container},o.a.createElement(s.a,{style:f.appTitle},"LotsOfDots"),o.a.createElement(s.a,{style:f.title},"CREATING A NEW VOTING EVENT"),o.a.createElement(s.a,{style:f.info},"Setting all the voting parameters."),o.a.createElement(c.a,{style:f.line}),E?null:o.a.createElement(p,{handleQuestionWasSaved:function(e){u(e),g(!0)}}),E&&!A?o.a.createElement(y,{handleCountWasSaved:function(e){w(e),C(!0)}}):null,E&&A&&!P?o.a.createElement(x,{dotColoringTheme:W,handleDotColoringThemeWasSaved:function(e){I(e),N(!0)}}):null,E&&A&&P&&!Z?o.a.createElement(b,{handleOptionsWereSaved:function(e){J(e),$(!0)}}):null,E&&A&&P&&Z&&!Q?o.a.createElement(V,{voteSameSeveralTimes:F,handleVoteSameSeveralTimesWasSaved:function(e){U(e),q(!0)}}):null,E&&A&&P&&Z&&Q?o.a.createElement(z,{newQuestion:i,countOfVotes:T,dotColoringTheme:W,voteSameSeveralTimes:F,options:H,cancelAll:function(){u(""),g(!1),w(1),C(!1),I(""),N(!1),U(""),q(!1),J(""),$(!1)},returnToWelcomePage:t}):null)},F=d.a.create({container:{alignItems:"center"},appTitle:{fontSize:30,fontWeight:"bold",color:"#3A3A38",marginTop:40},info:{fontSize:15,fontStyle:"italic",color:"#3A3A38"},title:{fontSize:20,color:"#3A3A38",marginTop:10,fontWeight:"bold"},buttonView:{backgroundColor:"#3A3A38",padding:8,borderRadius:7,marginTop:10,alignItems:"center"},buttonText:{fontSize:18,color:"#EEEFE3",fontWeight:"bold"},input:{borderColor:"#3A3A38",borderWidth:1,borderRadius:7,padding:10,marginTop:10,backgroundColor:"white",width:200,color:"#3A3A38"},optionContainer:{flexDirection:"row",marginTop:10},voterContainer:{flexDirection:"row"},buttonsContainer:{},voteButtonText:{fontSize:12,color:"#EEEFE3",fontWeight:"bold"},voteButtonView:{padding:5,borderRadius:7,alignItems:"center",marginBottom:3},optionAndDotContainer:{marginLeft:15},optionView:{},optionText:{fontSize:18,color:"#3A3A38",fontWeight:"bold"},dotsContainer:{flexDirection:"row",flexWrap:"wrap",width:E.a.get("window").width/2},notVotedText:{fontSize:16,color:"#3A3A38",fontStyle:"italic"},identityMapView:{marginTop:20,marginLeft:15},line:{height:1,width:E.a.get("window").width/1.2,backgroundColor:"#3A3A38",marginTop:3,marginBottom:20}}),U=function(e){var t=e.updateEventID,n=Object(a.useState)(""),r=Object(l.a)(n,2),i=r[0],d=r[1];return o.a.createElement(c.a,{style:F.container},o.a.createElement(s.a,{style:F.title},"Event ID"),o.a.createElement(s.a,{style:F.info},"Event can be found with its ID."),o.a.createElement(s.a,{style:F.info},"Write the 6-digit ID in the box below."),o.a.createElement(u.a,{style:F.input,multiline:!0,value:i,onChangeText:function(e){d(e)}}),i>1e5&&i<1e6?o.a.createElement(c.a,{style:F.container},o.a.createElement(m.a,{style:F.buttonView,onPress:function(){t(i)}},o.a.createElement(s.a,{style:F.buttonText},"GET EVENT"))):null)},G=function(e){var t=e.updateName,n=e.eventID,r=e.voters,i=Object(a.useState)(""),d=Object(l.a)(i,2),E=d[0],f=d[1],p=Object(a.useState)("false"),g=Object(l.a)(p,2),v=g[0],y=g[1],h=function(){var e=Object(W.a)(D.a.mark((function e(){var a,o,i;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.concat(E),o={voters:a},e.prev=2,e.next=5,k.a.put("https://thawing-tor-45525.herokuapp.com/api/votings/".concat(n),o);case 5:200===(i=e.sent).status&&i.data.voters.includes(E)?t(E):(f(""),y(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log("exception",e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(c.a,{style:F.container},o.a.createElement(s.a,{style:F.title},"Your name"),o.a.createElement(s.a,{style:F.info},"Depending on the voting parameters,"),o.a.createElement(s.a,{style:F.info},"your name might be displayed."),o.a.createElement(s.a,{style:F.info},"Please write your name below."),o.a.createElement(u.a,{style:F.input,multiline:!0,value:E,onChangeText:function(e){f(e),r.includes(e)?y(!0):y(!1)}}),""===E||" "===E.charAt(0)||v?null:o.a.createElement(c.a,{style:F.container},o.a.createElement(m.a,{style:F.buttonView,onPress:h},o.a.createElement(s.a,{style:F.buttonText},"START VOTING"))))},M=n(47),Q=function(e){return e.sort((function(e,t){var n=e.voters.length;return t.voters.length-n}))},q=function(e){var t=e.option,n=e.voters,a=e.optionsVoted,r=e.handleOptionsVotedChanged,i=e.event,l=a.includes(t.option),u=a.length<i.counts,d=i.severalSame,E=function(e){r(e,t)},f=Y(u,d,l),p=H(l),g=["#6B52CF","#978EBD","#CE81ED","#56AB39","#C5DB37","#C86131","#645A64","#39BDCD","#E3304E","#9F2BEE"];return o.a.createElement(c.a,{style:F.optionContainer},o.a.createElement(c.a,{style:F.voterContainer},o.a.createElement(c.a,{style:F.buttonsContainer},o.a.createElement(m.a,{onPress:function(){return E("vote")},disabled:!u&&!(l&&!d)},o.a.createElement(c.a,{style:[F.voteButtonView,f]},o.a.createElement(s.a,{style:[F.voteButtonText]},"VOTE"))),o.a.createElement(m.a,{onPress:function(){return E("unvote")},disabled:!l},o.a.createElement(c.a,{style:[F.voteButtonView,p]},o.a.createElement(s.a,{style:[F.voteButtonText]},"UNVOTE"))))),o.a.createElement(c.a,{style:F.optionAndDotContainer},o.a.createElement(c.a,{style:F.optionView},o.a.createElement(s.a,{style:F.optionText},t.option)),o.a.createElement(c.a,{style:F.dotsContainer},function(){var e=t.voters.map((function(e,t){var a="all dots same color, no identities"===i.dotTheme?"#645A64":g[n.indexOf(e)];return o.a.createElement(X,{key:t,coloring:a})})),r=Object(M.a)(e);return a.forEach((function(n,a){n===t.option&&r.push(o.a.createElement(X,{key:e.length+a,coloring:"orange"}))})),0===r.length?o.a.createElement(s.a,{style:F.notVotedText},"no votes yet"):r}())))},X=function(e){var t={width:20,height:20,borderRadius:10,margin:1,backgroundColor:e.coloring};return o.a.createElement(c.a,{style:t})},Y=function(e,t,n){return e?n&&!t?{backgroundColor:"#D3D3C0"}:{backgroundColor:"#3A3A38"}:{backgroundColor:"#D3D3C0"}},H=function(e){return e?{backgroundColor:"#3A3A38"}:{backgroundColor:"#D3D3C0"}},J=function(e){var t={width:15,height:15,borderRadius:15,margin:1,backgroundColor:e.coloring};return o.a.createElement(c.a,{style:t})},_=["#6B52CF","#978EBD","#CE81ED","#56AB39","#C5DB37","#C86131","#645A64","#39BDCD","#E3304E","#9F2BEE"],K=function(e){var t,n=e.index,a=e.name,r=e.dotTheme,i=e.voters,l=e.lastIsOrange;return t=n+1===i.length&&l?"orange":"all dots same color, no identities"===r||"different colors, no identities"===r?"#645A64":_[i.indexOf(a)],o.a.createElement(c.a,{style:Z.container},o.a.createElement(J,{coloring:t}),o.a.createElement(s.a,null,a))},Z=d.a.create({container:{flexDirection:"row"}}),$=function(e){var t=e.eventID,n=e.event,r=e.voterName,i=e.updateVotingState,u=Object(a.useState)([]),d=Object(l.a)(u,2),E=d[0],f=d[1],p=function(e,t){te(e,t,E,f,n)},g=Q(n.optionsWithVoters),v=function(){var e=Object(W.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(n,r,E,t,i);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(c.a,null,o.a.createElement(c.a,{style:F.container},o.a.createElement(s.a,{style:F.title},n.question)),g.map((function(e,t){return o.a.createElement(q,{key:t,option:e,dotTheme:n.dotTheme,voters:n.voters,optionsVoted:E,countOfVotes:n.countOfVotes,handleOptionsVotedChanged:p,event:n})})),"different colors, show identities"===n.dotTheme?o.a.createElement(c.a,{style:F.identityMapView},o.a.createElement(s.a,{style:F.info},"Voter identities:"),n.voters.map((function(e,t){return o.a.createElement(K,{key:e,index:t,name:e,dotTheme:n.dotTheme,voters:n.voters,lastIsOrange:!0})}))):null,o.a.createElement(c.a,{style:F.container},o.a.createElement(m.a,{style:F.buttonView,onPress:v},o.a.createElement(s.a,{style:F.buttonText},"SAVE YOUR VOTES"))))},ee=function(e,t){for(var n=0,a=0;a<e.length;a++)e[a]===t&&n++;return n},te=function(e,t,n,a,o){var r=[];if("vote"===e)n.length<o.counts&&a(r=n.concat(t.option));else for(var i=!1,l=0;l<n.length;l++)n[l]!==t.option||i?r.push(n[l]):i=!0,a(r)},ne=function(){var e=Object(W.a)(D.a.mark((function e(t,n,a,o,r){var i,l,c,s,u,m;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object(M.a)(t.voters),l=n,"anonymous"!==n){e.next=15;break}return c=t.voters.length+1,l="anonymous".concat(c),i.push(l),s={voters:i},e.prev=7,e.next=10,k.a.put("https://thawing-tor-45525.herokuapp.com/api/votings/".concat(o),s);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),console.log("exception",e.t0);case 15:return u=t.optionsWithVoters.map((function(e){if(a.includes(e.option)){for(var t=Object(M.a)(e.voters),n=ee(a,e.option),o=0;o<n;o++)t.push(l);return{option:e.option,voters:t}}return e})),m={optionsWithVoters:u},e.prev=17,e.next=20,k.a.put("https://thawing-tor-45525.herokuapp.com/api/votings/".concat(o),m);case 20:200===e.sent.status&&r(),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(17),console.log("exception",e.t1);case 27:case"end":return e.stop()}}),e,null,[[7,12],[17,24]])})));return function(t,n,a,o,r){return e.apply(this,arguments)}}(),ae=function(e){var t={width:20,height:20,borderRadius:10,margin:1,backgroundColor:e.coloring};return o.a.createElement(c.a,{style:t})},oe=function(e){var t=e.option,n=e.event,a=["#6B52CF","#978EBD","#CE81ED","#56AB39","#C5DB37","#C86131","#645A64","#39BDCD","#E3304E","#9F2BEE"];return o.a.createElement(c.a,{style:F.optionContainer},o.a.createElement(c.a,{style:F.optionAndDotContainer},o.a.createElement(c.a,{style:F.optionView},o.a.createElement(s.a,{style:F.optionText},t.option)),o.a.createElement(c.a,{style:F.dotsContainer},function(){var e=t.voters.map((function(e,t){var r="all dots same color, no identities"===n.dotTheme?"#645A64":a[n.voters.indexOf(e)];return o.a.createElement(ae,{key:t,coloring:r})}));return 0===e.length?o.a.createElement(s.a,{style:F.notVotedText},"no votes yet"):e}())))},re=function(e){var t=e.event,n=e.returnToWelcomePage,a=Q(t.optionsWithVoters);return o.a.createElement(h.a,null,o.a.createElement(c.a,{style:F.container},o.a.createElement(s.a,{style:F.title},t.question)),a.map((function(e,n){return o.a.createElement(oe,{key:n,option:e,voters:t.voters,event:t})})),"different colors, show identities"===t.dotTheme?o.a.createElement(c.a,{style:F.identityMapView},o.a.createElement(s.a,{style:F.info},"Voter identities:"),"different colors, show identities"===t.dotTheme?t.voters.map((function(e,n){return o.a.createElement(K,{key:e,index:n,name:e,dotTheme:t.dotTheme,voters:t.voters,lastIsWhite:!1})})):null):null,o.a.createElement(c.a,{style:F.container},o.a.createElement(m.a,{style:F.buttonView,onPress:n},o.a.createElement(s.a,{style:F.buttonText},"RETURN TO START"))))},ie=function(e){var t=e.returnToWelcomePage;return o.a.createElement(c.a,{style:F.container},o.a.createElement(s.a,{style:F.info},"No voting event could be found with"),o.a.createElement(s.a,{style:F.info},"the ID you gave. Please try again."),o.a.createElement(m.a,{style:F.buttonView,onPress:function(){return t()}},o.a.createElement(s.a,{style:F.buttonText},"RETURN")))},le=function(e){var t=e.votingDone,n=e.viewOnly,a=e.eventID,r=e.event,i=e.loadingEvent,l=e.tryAgain,u=e.namingReady,m=e.updateName,d=e.voterName,E=e.updateVotingState,f=e.returnToWelcomePage;return n&&"none"===r&&!i?o.a.createElement(ie,{returnToWelcomePage:f}):t||n&&"none"!==a&&!i?o.a.createElement(re,{event:r,returnToWelcomePage:f}):n||t?null:o.a.createElement(c.a,null,"none"!==a&&i&&!l?o.a.createElement(s.a,{style:F.title},"LOADING EVENT..."):null,l&&!i?o.a.createElement(ie,{returnToWelcomePage:f}):null,"none"===r||i||u?null:o.a.createElement(G,{updateName:m,eventID:a,voters:r.voters}),"none"===r||i||!u||t?null:o.a.createElement($,{eventID:a,event:r,voterName:d,updateVotingState:E}))},ce=function(e){var t=e.returnToWelcomePage,n=e.viewOnly,r=Object(a.useState)("none"),i=Object(l.a)(r,2),u=i[0],m=i[1],d=Object(a.useState)("anonymous"),E=Object(l.a)(d,2),f=E[0],p=E[1],g=Object(a.useState)(!1),v=Object(l.a)(g,2),y=v[0],h=v[1],b=Object(a.useState)(!0),T=Object(l.a)(b,2),w=T[0],O=T[1],S=Object(a.useState)(!1),A=Object(l.a)(S,2),C=A[0],x=A[1],V=Object(a.useState)("none"),j=Object(l.a)(V,2),D=j[0],W=j[1],I=Object(a.useState)(!1),B=Object(l.a)(I,2),P=B[0],N=B[1];Object(a.useEffect)((function(){try{"none"!==u&&k.a.get("https://thawing-tor-45525.herokuapp.com/api/votings/".concat(u)).then((function(e){console.log("result",e),e.data&&1===e.data.length?(W(e.data[0]),"different colors, show identities"!==e.data[0].dotTheme&&h(!0),O(!1)):(O(!1),x(!0))}))}catch(e){console.log("exception",e)}}),[u,f,P]);var R=n||P?"MONITOR VOTING":"GIVE YOUR VOTES",z=n||P?"View current voting situation.":"Voting in the voting event.";return o.a.createElement(c.a,{style:F.container},o.a.createElement(s.a,{style:F.appTitle},"LotsOfDots"),o.a.createElement(s.a,{style:F.title},R),o.a.createElement(s.a,{style:F.info},z),o.a.createElement(c.a,{style:F.line}),"none"===u?o.a.createElement(U,{eventID:u,updateEventID:function(e){m(e)}}):null,o.a.createElement(le,{votingDone:P,viewOnly:n,eventID:u,event:D,loadingEvent:w,tryAgain:C,namingReady:y,updateName:function(e){p(e),h(!0)},voterName:f,updateVotingState:function(){N(!0)},returnToWelcomePage:t}))},se=d.a.create({appContainer:{backgroundColor:"#EEEFE3",width:E.a.get("window").width,height:E.a.get("window").height},container:{alignItems:"center"},appTitle:{fontSize:30,fontWeight:"bold",color:"#3A3A38",marginTop:60},appInfo:{fontSize:15,fontStyle:"italic",color:"#3A3A38"},title:{fontSize:20,color:"#3A3A38",marginTop:30,fontWeight:"bold"},buttonView:{backgroundColor:"#3A3A38",padding:8,borderRadius:7,marginTop:10,alignItems:"center"},buttonText:{fontSize:18,color:"#EEEFE3",fontWeight:"bold"},line:{height:1,width:E.a.get("window").width/1.2,backgroundColor:"#3A3A38",marginTop:3}}),ue=function(e){var t=e.startCreatingVotingEvent,n=e.startVotingInAnEvent,a=e.viewOnly;return o.a.createElement(c.a,{style:se.container},o.a.createElement(s.a,{style:se.appTitle},"LotsOfDots"),o.a.createElement(s.a,{style:se.appInfo},"A little app for easy and simple"),o.a.createElement(s.a,{style:se.appInfo},"decision-making and prioritization"),o.a.createElement(s.a,{style:se.appInfo},"for groups of people."),o.a.createElement(c.a,{style:se.line}),o.a.createElement(s.a,{style:se.title},"Create a new voting event?"),o.a.createElement(s.a,{style:se.appInfo},"Set the question and answering options"),o.a.createElement(s.a,{style:se.appInfo},"for a new voting event."),o.a.createElement(m.a,{style:se.buttonView,onPress:t},o.a.createElement(s.a,{style:se.buttonText},"CREATE")),o.a.createElement(s.a,{style:se.title},"Vote in an existing event?"),o.a.createElement(s.a,{style:se.appInfo},"If you have a voting ID"),o.a.createElement(s.a,{style:se.appInfo},"you can go ahead and vote."),o.a.createElement(m.a,{style:se.buttonView,onPress:n},o.a.createElement(s.a,{style:se.buttonText},"VOTE")),o.a.createElement(s.a,{style:se.title},"View the current situation only"),o.a.createElement(s.a,{style:se.appInfo},"If you have an ID you can have a look"),o.a.createElement(s.a,{style:se.appInfo},"  at the current situation without voting."),o.a.createElement(m.a,{style:se.buttonView,onPress:a},o.a.createElement(s.a,{style:se.buttonText},"VIEW ONLY")))},me=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(l.a)(i,2),u=s[0],m=s[1],d=Object(a.useState)(!1),E=Object(l.a)(d,2),f=E[0],p=E[1],g=function(){r(!1),m(!1),p(!1)};return o.a.createElement(c.a,{style:se.appContainer},n||u||f?null:o.a.createElement(ue,{startCreatingVotingEvent:function(){r(!0)},startVotingInAnEvent:function(){m(!0)},viewOnly:function(){p(!0)}}),n?o.a.createElement(L,{returnToWelcomePage:g}):null,u?o.a.createElement(ce,{returnToWelcomePage:g,viewOnly:!1}):null,f?o.a.createElement(ce,{returnToWelcomePage:g,viewOnly:!0}):null)},de=function(){return console.log("LotsOfDots HUHUU"),o.a.createElement(me,null)};i.a.render(o.a.createElement(de,null),document.getElementById("root"))},88:function(e,t,n){e.exports=n(124)}},[[88,1,2]]]);
//# sourceMappingURL=main.83339a37.chunk.js.map